# (PART) R Basics {-} 

# Data Import/Export

## Directories

### Functions

* `setwd()` Set working directory
* `dir()` List the files in a directory
* `save()` Save single object
* `save.image()` Save whole workspace
* `load()` Load object/workspace
* `source()` Execute R code from a file

```{r, eval=FALSE}
## Extract the path of all .csv files of a directory
dir('mydirectory/', pattern = '//.csv$', full.names = TRUE)
```


### Path to your file

* Absolute path
    - `read.csv("C:/Users/Reto/Downloads/myfile.csv")`
    - Not recomended, impossible to share between computers
* Relative path
    - `read.csv("Data/import/myfile.csv")`
    - `read.csv("../../Data/import/myfile.csv")`
        * Goes two levels up
    - Starts at you working directory
        * R project have fixed wd
        * `getwd()`, `setwd()`
        * Rmarkdown sets its working directory to the folder which contains the Rmd file (“working directory = directory where this file lives” even if you are in a Rproj!). Do not change working directory but use relative path (maybe with ../) to get to your files.
* Consider using package `here`


## Read data

* `read.table()` most general case `sep = ""`
* `read.csv()` different default value `sep = ","`
* `read.csv2()` different default value `sep = ";"`
* `read.delim()` different default value `sep = "\t"`

Functions of package `readr`

* `read_csv()` separating value `","`
* `read_csv2()` separating value `";"`
* `read_delim()` no default

##### Read in with `tribble()` {-}
* Data entry in code
* Column headings start with `~`
* Entries are separated by `,`

```{r, eval=FALSE}
people <- tibble::tribble(
  ~name,             ~key,    ~value,
  #-----------------|--------|------
  "Phillip Woods",   "age",       45,
  "Phillip Woods",   "height",   186,
  "Phillip Woods",   "age",       50,
  "Jessica Cordero", "age",       37,
  "Jessica Cordero", "height",   156
)
```



## Clipboard

```{r, eval=FALSE}
write.table(mytable, "clipboard", sep = "\t", row.names = FALSE)
mytable <- read.table(file = "clipboard", sep = "/t", header = TRUE)
```


## Github

You can directly import files from Github

1) Upload file to github.com/retodomax/myproject
2) Get stable link to raw data
        - Go to file and click on button "Raw"
        - Copy url
3) Import with `mytable <- read.delim("https://raw.githubusercontent.com/retodomax/myproject/master/filename.csv")`


## Simulate data

* `rep()`
* `seq()`
* `sample()`
* `rnorm()`
* `factor()`
* `gl()`
* `expand.grid()` Cross prodict
* `combn()`
* `interaction()`

```{r}
combn(1:4, 2) # Combinatorics: combine each element with every other element
combn(1:3, 3) # Make all possible 3-fold combinations (4 choose 3 combinations)
expand.grid(LETTERS[1:2], 1:3)
```

